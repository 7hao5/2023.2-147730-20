{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vuhuy\\\\OneDrive - Hanoi University of Science and Technology\\\\NEWCODE\\\\ITSS_JP_2\\\\itssfe\\\\src\\\\UserContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useContext, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserContext = /*#__PURE__*/createContext();\n\n// Trong UserProvider\nexport const UserProvider = ({\n  children\n}) => {\n  _s();\n  const login = userData => {\n    setUser(userData);\n    // Lưu thông tin đăng nhập vào cookie\n    setCookie(\"user\", JSON.stringify(userData), 30); // 30 là số ngày có thể thay đổi\n  };\n  const logout = () => {\n    setUser(null);\n    // Xóa thông tin đăng nhập từ cookie khi đăng xuất\n    deleteCookie(\"user\");\n  };\n  const setCookie = (name, value, days) => {\n    const date = new Date();\n    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n    const expires = \"expires=\" + date.toUTCString();\n    document.cookie = name + \"=\" + value + \"; \" + expires + \"; path=/\";\n  };\n  const getCookie = name => {\n    const cookieName = name + \"=\";\n    const decodedCookie = decodeURIComponent(document.cookie);\n    const cookieArray = decodedCookie.split(\";\");\n    for (let i = 0; i < cookieArray.length; i++) {\n      let cookie = cookieArray[i];\n      while (cookie.charAt(0) === \" \") {\n        cookie = cookie.substring(1);\n      }\n      if (cookie.indexOf(cookieName) === 0) {\n        return cookie.substring(cookieName.length, cookie.length);\n      }\n    }\n    return \"\";\n  };\n  const deleteCookie = name => {\n    document.cookie = name + \"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n  };\n  const [user, setUser] = useState(() => {\n    // Kiểm tra xem có thông tin đăng nhập trong cookie không\n    const storedUser = getCookie(\"user\");\n    return storedUser ? JSON.parse(storedUser) : null;\n  });\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      user,\n      login,\n      logout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(UserProvider, \"o0fBFajZaGy5X30smFWxCYsZ734=\");\n_c = UserProvider;\nexport const useUser = () => {\n  _s2();\n  return useContext(UserContext);\n};\n_s2(useUser, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"UserProvider\");","map":{"version":3,"names":["createContext","useContext","useState","jsxDEV","_jsxDEV","UserContext","UserProvider","children","_s","login","userData","setUser","setCookie","JSON","stringify","logout","deleteCookie","name","value","days","date","Date","setTime","getTime","expires","toUTCString","document","cookie","getCookie","cookieName","decodedCookie","decodeURIComponent","cookieArray","split","i","length","charAt","substring","indexOf","user","storedUser","parse","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useUser","_s2","$RefreshReg$"],"sources":["C:/Users/vuhuy/OneDrive - Hanoi University of Science and Technology/NEWCODE/ITSS_JP_2/itssfe/src/UserContext.js"],"sourcesContent":["import { createContext, useContext, useState } from \"react\";\r\n\r\nconst UserContext = createContext();\r\n\r\n// Trong UserProvider\r\nexport const UserProvider = ({ children }) => {\r\n  const login = (userData) => {\r\n    setUser(userData);\r\n    // Lưu thông tin đăng nhập vào cookie\r\n    setCookie(\"user\", JSON.stringify(userData), 30); // 30 là số ngày có thể thay đổi\r\n  };\r\n\r\n  const logout = () => {\r\n    setUser(null);\r\n    // Xóa thông tin đăng nhập từ cookie khi đăng xuất\r\n    deleteCookie(\"user\");\r\n  };\r\n\r\n  const setCookie = (name, value, days) => {\r\n    const date = new Date();\r\n    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\r\n    const expires = \"expires=\" + date.toUTCString();\r\n    document.cookie = name + \"=\" + value + \"; \" + expires + \"; path=/\";\r\n  };\r\n\r\n  const getCookie = (name) => {\r\n    const cookieName = name + \"=\";\r\n    const decodedCookie = decodeURIComponent(document.cookie);\r\n    const cookieArray = decodedCookie.split(\";\");\r\n\r\n    for (let i = 0; i < cookieArray.length; i++) {\r\n      let cookie = cookieArray[i];\r\n      while (cookie.charAt(0) === \" \") {\r\n        cookie = cookie.substring(1);\r\n      }\r\n      if (cookie.indexOf(cookieName) === 0) {\r\n        return cookie.substring(cookieName.length, cookie.length);\r\n      }\r\n    }\r\n    return \"\";\r\n  };\r\n\r\n  const deleteCookie = (name) => {\r\n    document.cookie =\r\n      name + \"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\r\n  };\r\n\r\n  const [user, setUser] = useState(() => {\r\n    // Kiểm tra xem có thông tin đăng nhập trong cookie không\r\n    const storedUser = getCookie(\"user\");\r\n    return storedUser ? JSON.parse(storedUser) : null;\r\n  });\r\n\r\n  return (\r\n    <UserContext.Provider value={{ user, login, logout }}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useUser = () => {\r\n  return useContext(UserContext);\r\n};"],"mappings":";;;AAAA,SAASA,aAAa,EAAEC,UAAU,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5D,MAAMC,WAAW,gBAAGL,aAAa,CAAC,CAAC;;AAEnC;AACA,OAAO,MAAMM,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC5C,MAAMC,KAAK,GAAIC,QAAQ,IAAK;IAC1BC,OAAO,CAACD,QAAQ,CAAC;IACjB;IACAE,SAAS,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;EACnD,CAAC;EAED,MAAMK,MAAM,GAAGA,CAAA,KAAM;IACnBJ,OAAO,CAAC,IAAI,CAAC;IACb;IACAK,YAAY,CAAC,MAAM,CAAC;EACtB,CAAC;EAED,MAAMJ,SAAS,GAAGA,CAACK,IAAI,EAAEC,KAAK,EAAEC,IAAI,KAAK;IACvC,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAC;IACvBD,IAAI,CAACE,OAAO,CAACF,IAAI,CAACG,OAAO,CAAC,CAAC,GAAGJ,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;IACzD,MAAMK,OAAO,GAAG,UAAU,GAAGJ,IAAI,CAACK,WAAW,CAAC,CAAC;IAC/CC,QAAQ,CAACC,MAAM,GAAGV,IAAI,GAAG,GAAG,GAAGC,KAAK,GAAG,IAAI,GAAGM,OAAO,GAAG,UAAU;EACpE,CAAC;EAED,MAAMI,SAAS,GAAIX,IAAI,IAAK;IAC1B,MAAMY,UAAU,GAAGZ,IAAI,GAAG,GAAG;IAC7B,MAAMa,aAAa,GAAGC,kBAAkB,CAACL,QAAQ,CAACC,MAAM,CAAC;IACzD,MAAMK,WAAW,GAAGF,aAAa,CAACG,KAAK,CAAC,GAAG,CAAC;IAE5C,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,WAAW,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;MAC3C,IAAIP,MAAM,GAAGK,WAAW,CAACE,CAAC,CAAC;MAC3B,OAAOP,MAAM,CAACS,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;QAC/BT,MAAM,GAAGA,MAAM,CAACU,SAAS,CAAC,CAAC,CAAC;MAC9B;MACA,IAAIV,MAAM,CAACW,OAAO,CAACT,UAAU,CAAC,KAAK,CAAC,EAAE;QACpC,OAAOF,MAAM,CAACU,SAAS,CAACR,UAAU,CAACM,MAAM,EAAER,MAAM,CAACQ,MAAM,CAAC;MAC3D;IACF;IACA,OAAO,EAAE;EACX,CAAC;EAED,MAAMnB,YAAY,GAAIC,IAAI,IAAK;IAC7BS,QAAQ,CAACC,MAAM,GACbV,IAAI,GAAG,mDAAmD;EAC9D,CAAC;EAED,MAAM,CAACsB,IAAI,EAAE5B,OAAO,CAAC,GAAGT,QAAQ,CAAC,MAAM;IACrC;IACA,MAAMsC,UAAU,GAAGZ,SAAS,CAAC,MAAM,CAAC;IACpC,OAAOY,UAAU,GAAG3B,IAAI,CAAC4B,KAAK,CAACD,UAAU,CAAC,GAAG,IAAI;EACnD,CAAC,CAAC;EAEF,oBACEpC,OAAA,CAACC,WAAW,CAACqC,QAAQ;IAACxB,KAAK,EAAE;MAAEqB,IAAI;MAAE9B,KAAK;MAAEM;IAAO,CAAE;IAAAR,QAAA,EAClDA;EAAQ;IAAAoC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B,CAAC;AAACtC,EAAA,CArDWF,YAAY;AAAAyC,EAAA,GAAZzC,YAAY;AAuDzB,OAAO,MAAM0C,OAAO,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAC3B,OAAOhD,UAAU,CAACI,WAAW,CAAC;AAChC,CAAC;AAAC4C,GAAA,CAFWD,OAAO;AAAA,IAAAD,EAAA;AAAAG,YAAA,CAAAH,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}